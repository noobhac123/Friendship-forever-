<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A Chain of Cherished Memories</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&family=Caveat:wght@400;700&display=swap');

        :root {
            --primary-color: #6a11cb; /* Deep Purple */
            --secondary-color: #2575fc; /* Bright Blue */
            --accent-color: #ff6f91; /* Playful Pink/Coral for accents */
            --text-color: #333;
            --light-text-color: #f0f0f0;
            --card-bg: #ffffff;
            --shadow-color: rgba(0, 0, 0, 0.1);
            --button-hover-bg: #4a0c9b;
            --highlight-bg: #e9f2ff; /* Light blueish background for name */
        }

        body {
            font-family: 'Poppins', sans-serif;
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
            color: var(--text-color);
            box-sizing: border-box;
        }

        .container {
            background-color: var(--card-bg);
            padding: 35px 45px; /* Slightly more padding */
            border-radius: 20px; /* More rounded */
            box-shadow: 0 12px 35px var(--shadow-color);
            text-align: center;
            max-width: 550px; /* Slightly wider */
            width: 90%;
            animation: fadeInScale 0.9s cubic-bezier(0.25, 0.46, 0.45, 0.94) both;
        }

        @keyframes fadeInScale {
            0% { opacity: 0; transform: translateY(30px) scale(0.95); }
            100% { opacity: 1; transform: translateY(0) scale(1); }
        }

        h1 {
            font-family: 'Caveat', cursive; /* A more handwritten, warm font for heading */
            font-size: 2.8em;
            color: var(--primary-color);
            margin-bottom: 20px;
            font-weight: 700;
            line-height: 1.2;
        }
        
        .highlight-name {
            color: var(--secondary-color);
            font-weight: 700;
            background-color: var(--highlight-bg);
            padding: 3px 8px;
            border-radius: 5px;
            display: inline-block; /* Ensures padding and bg color work well */
        }

        p {
            font-size: 1.1em;
            line-height: 1.8; /* More spacing for readability */
            margin-bottom: 25px;
            color: #444; /* Slightly darker for better contrast on white */
        }
        
        .message-icon {
            font-size: 1.5em;
            margin-right: 8px;
            color: var(--accent-color);
        }

        .input-group {
            margin-bottom: 30px;
        }

        label {
            display: block;
            font-size: 0.95em;
            color: #666;
            margin-bottom: 10px;
            text-align: left;
            font-weight: 600;
        }

        input[type="text"] {
            width: calc(100% - 24px); 
            padding: 14px 12px;
            border: 1px solid #ccc;
            border-radius: 10px;
            font-size: 1em;
            font-family: 'Poppins', sans-serif;
            transition: border-color 0.3s ease, box-shadow 0.3s ease;
        }

        input[type="text"]:focus {
            outline: none;
            border-color: var(--secondary-color);
            box-shadow: 0 0 0 4px rgba(37, 117, 252, 0.2);
        }

        button {
            background: linear-gradient(135deg, var(--accent-color) 0%, var(--primary-color) 100%);
            color: var(--light-text-color);
            border: none;
            padding: 16px 35px;
            font-size: 1.15em;
            font-weight: 600;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            width: 100%;
            box-sizing: border-box;
            text-shadow: 0 1px 2px rgba(0,0,0,0.2);
        }

        button:hover {
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--accent-color) 100%);
            transform: translateY(-3px) scale(1.02);
            box-shadow: 0 8px 15px rgba(0,0,0,0.15);
        }
        
        button svg {
            width: 22px;
            height: 22px;
            fill: currentColor;
        }

        .footer-note {
            margin-top: 35px;
            font-size: 0.9em;
            color: var(--light-text-color);
            opacity: 0.85;
            font-family: 'Caveat', cursive;
            font-size: 1.3em;
        }

        /* Responsive adjustments */
        @media (max-width: 600px) {
            .container {
                padding: 25px 20px;
                width: 95%;
            }
            h1 {
                font-size: 2.2em;
            }
            p {
                font-size: 1em;
            }
            button {
                padding: 14px 25px;
                font-size: 1.05em;
            }
            .footer-note {
                font-size: 1.1em;
            }
        }
    </style>
</head>
<body>

    <div class="container">
        <h1 id="mainHeading">Old Times, Golden Memories!</h1>
        <p id="messageText">
            <span class="message-icon">ðŸ’Œ</span>Hey there, amazing friend! Remember those carefree childhood days, the endless laughter that made our stomachs hurt, the secret handshakes, and all those unforgettable adventures we dived into? Life spins its tales, but true friendships like ours, filled with love and countless memories, are the real treasures. Thinking of you and our special bond. âœ¨
        </p>
        
        <div class="input-group">
            <label for="currentUserNameInput">Your Name (to share this feeling):</label>
            <input type="text" id="currentUserNameInput" placeholder="Enter your name here">
        </div>

        <button id="shareButton">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3s3-1.34 3-3-1.34-3-3-3z"/></svg>
            Pass on the Warmth
        </button>
    </div>

    <p class="footer-note">Keep the chain of friendship & memories glowing!</p>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const urlParams = new URLSearchParams(window.location.search);
            const receivedFromName = urlParams.get('name'); // Name of the person who sent THIS link

            const currentUserNameInput = document.getElementById('currentUserNameInput');
            const shareButton = document.getElementById('shareButton');
            const mainHeading = document.getElementById('mainHeading');
            const messageTextElement = document.getElementById('messageText'); // Renamed for clarity

            const defaultMessage = `
                <span class="message-icon">ðŸ’Œ</span>Hey there, amazing friend! Remember those carefree childhood days, the endless laughter that made our stomachs hurt, the secret handshakes, and all those unforgettable adventures we dived into? Life spins its tales, but true friendships like ours, filled with love and countless memories, are the real treasures. Thinking of you and our special bond. âœ¨
                <br><br>Want to send this wave of nostalgia to another cherished friend? Enter <strong>your name</strong> below and share!
            `;

            if (receivedFromName) {
                // This page is being viewed by someone who received a link
                mainHeading.innerHTML = `A Special Message For You!`;
                messageTextElement.innerHTML = `
                    <span class="message-icon">ðŸ“¬</span>Guess what? <span class="highlight-name">${decodeURIComponent(receivedFromName)}</span> is sending a big warm hug through this message! They're reminiscing about all the fun, the childhood pranks, the shared dreams, and the incredible friendship you both cherish. You're being missed! ðŸ˜Š
                    <br><br>Touched? Why not keep this beautiful chain of memories and friendship going? Enter <strong>your name</strong> below and share this feeling with another special person in your life!
                `;
            } else {
                // This is the initial page, or someone opened it directly
                messageTextElement.innerHTML = defaultMessage;
            }

            shareButton.addEventListener('click', () => {
                const currentSenderName = currentUserNameInput.value.trim();
                if (!currentSenderName) {
                    alert('Please enter your name so your friend knows who sent this lovely thought!');
                    currentUserNameInput.focus();
                    return;
                }

                const shareUrl = `${window.location.origin}${window.location.pathname}?name=${encodeURIComponent(currentSenderName)}`;
                
                let shareDialogTitle = "Thinking of Our Awesome Friendship & Memories!";
                let shareDialogText = `Hey! Just reminiscing about our amazing friendship, all the laughter and memories. Thinking of you! - ${currentSenderName}`;

                if (receivedFromName) { // If this user received a link, they are now forwarding it
                    shareDialogTitle = "Passing on the Friendship & Memory Chain!";
                    shareDialogText = `Hey! Sending some love & thinking of our great times and special friendship. Keep the chain going! - ${currentSenderName}`;
                }
                
                const shareData = {
                    title: shareDialogTitle,
                    text: shareDialogText,
                    url: shareUrl,
                };

                if (navigator.share) {
                    navigator.share(shareData)
                        .then(() => console.log('Message shared successfully!'))
                        .catch((error) => {
                            console.error('Error sharing:', error);
                            alert(`Could not open share dialog. You can copy this link to share: ${shareUrl}`);
                        });
                } else {
                    alert(`Your browser doesn't support direct sharing. Please copy this link and send it to your friend: ${shareUrl}`);
                }
            });
        });
    </script>

</body>
</html>
